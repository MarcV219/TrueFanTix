### 2026-02-24 Session Summary

**Core Task:** Resolve Vercel deployment failures and switch to a "Coming Soon" landing page.

**Key Issues & Solutions:**
- **Persistent Vercel build failures (TypeScript):** Initially due to `implicit any` errors in various `.ts` and `.tsx` files. These were addressed by explicitly typing parameters in `.map()`, `.filter()`, and `.reduce()` callbacks.
- **Prisma Enum Import Errors:** The core issue was identified: `prisma generate` was not being run during Vercel builds, leading to missing enum types.
  - **Solution:** Modified `package.json`'s `build` script to include `prisma generate`.
  - **Further Fix:** Replaced direct Prisma enum imports (e.g., `OrderStatus.PAID`) with string literals (e.g., `"PAID"`) in application code, and used type assertions (e.g., `as any`) when assigning to Prisma-typed fields to resolve type conflicts after `prisma generate` was introduced.
- **Next.js Prerendering Errors (`useSearchParams`):** Pages like `/login`, `/register`, `/verify` were failing due to `useSearchParams()` being called during static generation.
  - **Solution:** Wrapped the components using `useSearchParams` in `<Suspense>` boundaries and refactored them into separate client components (e.g., `LoginForm` wrapped by `LoginPage`).
- **Database Mismatch (SQLite on Vercel):** The early access form failed due to SQLite not persisting on Vercel's ephemeral serverless environment, and `DATABASE_URL` not being correctly configured.
  - **Solution:** Recommended migrating to a hosted PostgreSQL database (Neon).
  - **User initiated Neon setup:** Guided Marc through creating a Neon account and project.
  - **Prisma Configuration Update:** Modified `prisma/schema.prisma` from `provider = "sqlite"` to `provider = "postgresql"`.
  - **Local DATABASE_URL fix:** Advised Marc to set the Neon connection string in his local `.env.local` for `prisma generate` and `migrate deploy` commands.

**Landing Page Development:**
- Created a simple "Coming Soon" landing page for the root route (`/`).
- Implemented Next.js middleware (`src/middleware.ts`) to redirect all other routes to the homepage, except for static assets and the `/api/early-access` endpoint.
- Removed the global `AppHeader` from `src/app/layout.tsx` to eliminate unwanted navigation.
- Added a prominent TrueFanTix image logo to the landing page and styled its container to blend with the background, replacing the gradient text logo.

**Current State:**
- The Vercel build has been successfully deployed.
- The "Coming Soon" landing page is live with early access functionality.
- Database setup is in progress: `prisma/schema.prisma` updated to `postgresql`, `DATABASE_URL` set in Vercel and locally.
- Awaiting user execution of `npx prisma generate` and `npx prisma migrate deploy` locally to finalize the database migration to Neon.
